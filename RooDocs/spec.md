---
### **割り算教育Webアプリ仕様書**
---

#### **1. アプリの概要**

- **目的**: 割り算の視覚的アプローチによる多面的理解を促進する。
- **対象ユーザー**: 小学3年生の子供。
- **概要**: 割り算の概念を多様な方法で視覚的に表現し、楽しく学べる教育Webアプリ。
- **ホスティング**: GitHub Pagesを利用して公開。

---

#### **2. 機能要件**

##### **タブ構成と機能の詳細**

1. **グループ分けタブ**:

   - **目的**: 割り算をグループ分けで視覚化し、等分する概念を伝える。
   - **機能**:
     - 2つのスライダーで割られる数（1〜50）と割る数（1〜10）を入力。
     - スライダーの操作に応じて、割られる数の分のオブジェクト（ボール）を表示。
     - オブジェクトは割る数ごとに自動的にグループ分けされ、まとまりとして表示。
     - 例：12 ÷ 3 の場合、12個のりんごを3個ずつ4グループに分割して表示。
     - スライダー操作時には、オブジェクトが滑らかなアニメーションで再配置され、グループ分けが変化する様子を視覚的に表現。
     - 余りがある場合は、最後に分けきれないオブジェクトを「余り」として強調しまとめて表示。

2. **等分タブ**:

   - **目的**: 割り算を一つの図形の等分割で視覚化する。
   - **機能**:
     - 2つのスライダーで割られる数（1〜50）と割る数（1〜10）を入力。
     - 1つの大きな図形（円）を「割る数」に応じて等分割して表示。
     - 割られる数の分だけ等分の位置に点線を表示し、割る数で割る線は実線で表す。
     - 例：10 ÷ 2 の場合、円を2等分し、各分割部分に「5」の数を表示（計10個分が2等分されたことを意味する）。
     - 割り切れない場合は余りを異なる色で表示し、「割り切れない部分」を視覚的に示す。
     - 余りの部分にも余りの数字を表示。
     - スライダー操作時に割る数が変化すると、図形の分割数や割り切れる・割り切れない状態がリアルタイムで更新される。

3. **数直線タブ**:
   - **目的**: 割り算を数直線上のジャンプで視覚化する。
   - **機能**:
     - 2つのスライダーで割られる数（1〜50）と割る数（1〜10）を入力。
     - 0から「割られる数」までの数直線を表示。
     - 「割る数」の間隔でマーカーを配置し、0からスタートして「割られる数」地点まで何回ジャンプすればよいのかを視覚的に示す。
     - ジャンプはキャラクターの移動アニメーションと弧線で表し、ジャンプの回数を数字で表示する。
     - 例：15 ÷ 5の場合、0-5-10-15の位置にマーカーを置き、3回ジャンプで15に到達することを確認できる。
     - 割り切れない場合は「余りの部分」を示すため、最後のマーカーから終点を突き抜けて点線の弧線で表す。
     - 例：12 ÷ 5の場合、0-5-10の位置にマーカーを置き、15に向けて点線の弧線を引き、10で止まったキャラクターと12までの距離を余りとして数字で表示する。

##### **共通機能**

- 初期値として「グループ分け表示」で12÷3=4を設定。
- 「(割られる数) ÷ (割る数) = (答え)」の式がスライダーに合わせて自動更新される。
- 子供向けの直感的で視覚的なUIを設計。
- アニメーションを動的に実行し、結果を自動表示。
- 保存機能は不要。

---

#### **3. ユーザーインターフェース (UI)**

- **タブ切り替え**:
  - Webページ上部にタブメニューを配置し、各モードに簡単に切り替え可能。
- **レイアウト**:
  - メイン画面に可視化エリア、下部にスライダーやラジオボタンを配置。
- **レスポンシブ対応**:
  - タブレットを意識したレイアウトを採用。
  - スライダーやボタンをタッチ操作に最適化。
  - 縦向きと横向きの両方で操作しやすいように調整。
- **デザインと配色**:
  - 明るい色合いを使用し、各タブにテーマカラーを設定。
  - 数直線タブではキャラクターを登場させ、親しみやすさを演出。
  - グループ分けのオブジェクトは視認性の高い色で表示し、余りは異なる色で強調。

---

#### **4. 技術要件**

- **プラットフォーム**: Webアプリとして構築し、GitHub Pagesで公開。
- **主要フレームワーク**:
  - React.js: コンポーネントベースのUI管理。
- **技術スタック**:
  - **Vite**: 高速ビルドツールとして使用
  - **HTML5, CSS3, JavaScript**: アプリケーションの基本構築。
  - **React.js**: インタラクティブなUIの構築。
  - **Canvas API**: グラフィックやアニメーション描画。
  - **SVG**: 図形やグラフの描画。
  - **GitHub Pages**: デプロイ環境。
  - **npm**: パッケージ管理。
- **動作環境**: 最新のブラウザ（Chrome, Firefox, Edge）で動作。

---

#### **5. 開発ツール**

- **コードエディタ**:
  - Visual Studio Code (推奨)。
- **品質管理**:
  - ESLint: コード品質チェック。
  - Prettier: コードフォーマット。
- **テストツール**:
  - Playwright: E2Eテストツール。アプリの動作を自動化し、タブの切り替えやインタラクションを検証。
- **デバッグ**:
  - 各開発ステップでテストツールを使ってデバッグ
  - テストツールで確認できない部分はChromeの開発者ツールを利用。

---

#### **6. アクセシビリティ (A11y)**

- **コントラスト比**:
  - テキストと背景色が適切なコントラスト比を持つように設計。
- **タッチエリア**:
  - ボタンやスライダーのタッチ領域を拡大し、誤操作を防ぐ。
- **ARIA属性**:
  - スクリーンリーダーに対応するため、`aria-label`を適切に付与。

---
